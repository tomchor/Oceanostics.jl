<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Function library · Oceanostics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Oceanostics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/two_dimensional_turbulence/">Two-dimensional turbulence</a></li><li><a class="tocitem" href="../generated/kelvin_helmholtz/">Kelvin-Helmholtz instability</a></li><li><a class="tocitem" href="../generated/tilted_bottom_boundary_layer/">Tilted bottom boundary layer</a></li></ul></li><li class="is-active"><a class="tocitem" href>Function library</a><ul class="internal"><li><a class="tocitem" href="#Oceanostics.jl"><span>Oceanostics.jl</span></a></li><li><a class="tocitem" href="#Oceanostics.TKEBudgetTerms"><span>Oceanostics.TKEBudgetTerms</span></a></li><li><a class="tocitem" href="#Oceanostics.TracerVarianceBudgetTerms"><span>Oceanostics.TracerVarianceBudgetTerms</span></a></li><li><a class="tocitem" href="#Oceanostics.FlowDiagnostics"><span>Oceanostics.FlowDiagnostics</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Function library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Function library</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tomchor/Oceanostics.jl/blob/main/docs/src/library.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Library"><a class="docs-heading-anchor" href="#Library">Library</a><a id="Library-1"></a><a class="docs-heading-anchor-permalink" href="#Library" title="Permalink"></a></h1><p>Documentation for the public user interface.</p><h2 id="Oceanostics.jl"><a class="docs-heading-anchor" href="#Oceanostics.jl">Oceanostics.jl</a><a id="Oceanostics.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Oceanostics.jl" title="Permalink"></a></h2><h2 id="Oceanostics.TKEBudgetTerms"><a class="docs-heading-anchor" href="#Oceanostics.TKEBudgetTerms">Oceanostics.TKEBudgetTerms</a><a id="Oceanostics.TKEBudgetTerms-1"></a><a class="docs-heading-anchor-permalink" href="#Oceanostics.TKEBudgetTerms" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.IsotropicKineticEnergyDissipationRate-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.IsotropicKineticEnergyDissipationRate-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.IsotropicKineticEnergyDissipationRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IsotropicKineticEnergyDissipationRate(
    model;
    U,
    V,
    W,
    location
)
</code></pre><p>Calculate the Viscous Dissipation Rate, defined as</p><pre><code class="nohighlight hljs">ε = 2 ν SᵢⱼSᵢⱼ,</code></pre><p>where Sᵢⱼ is the strain rate tensor, for a fluid with an isotropic turbulence closure (i.e., a  turbulence closure where ν (eddy or not) is the same for all directions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L91-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergy-NTuple{4, Any}" href="#Oceanostics.TKEBudgetTerms.KineticEnergy-NTuple{4, Any}"><code>Oceanostics.TKEBudgetTerms.KineticEnergy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergy(model, u, v, w; location, kwargs...)
</code></pre><p>Calculate the kinetic energy of <code>model</code> manually specifying <code>u</code>, <code>v</code> and <code>w</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergy-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.KineticEnergy-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.KineticEnergy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergy(model; kwargs...)
</code></pre><p>Calculate the kinetic energy of <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L67-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergyDiffusiveTerm-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.KineticEnergyDiffusiveTerm-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.KineticEnergyDiffusiveTerm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergyDiffusiveTerm(model; location)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the diffusive term of the KE prognostic equation:</p><pre><code class="nohighlight hljs">    DIFF = uᵢ∂ⱼτᵢⱼ</code></pre><p>where <code>uᵢ</code> are the velocity components and <code>τᵢⱼ</code> is the diffusive flux of <code>i</code> momentum in the  <code>j</code>-th direction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L264-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergyDissipationRate-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.KineticEnergyDissipationRate-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.KineticEnergyDissipationRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergyDissipationRate(model; U, V, W, location)
</code></pre><p>Calculate the pseudo viscous Dissipation Rate, defined as</p><pre><code class="nohighlight hljs">ε = ν (∂uᵢ/∂xⱼ) (∂uᵢ/∂xⱼ)</code></pre><p>for a fluid with an isotropic turbulence closure (i.e., a  turbulence closure where ν (eddy or not) is the same for all directions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L146-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergyForcingTerm-Tuple{NonhydrostaticModel}" href="#Oceanostics.TKEBudgetTerms.KineticEnergyForcingTerm-Tuple{NonhydrostaticModel}"><code>Oceanostics.TKEBudgetTerms.KineticEnergyForcingTerm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergyForcingTerm(model; location)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the forcing term of the KE prognostic equation:</p><pre><code class="nohighlight hljs">    FORC = uᵢFᵤᵢ</code></pre><p>where <code>uᵢ</code> are the velocity components and <code>Fᵤᵢ</code> is the forcing term(s) in the <code>uᵢ</code> prognostic equation (i.e. the forcing for <code>uᵢ</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L304-L315">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.KineticEnergyTendency-Tuple{NonhydrostaticModel}" href="#Oceanostics.TKEBudgetTerms.KineticEnergyTendency-Tuple{NonhydrostaticModel}"><code>Oceanostics.TKEBudgetTerms.KineticEnergyTendency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">KineticEnergyTendency(model; location)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the tendency of the KE except for the nonhydrostatic pressure:</p><pre><code class="language-julia hljs"></code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L219-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy-NTuple{4, Any}" href="#Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy-NTuple{4, Any}"><code>Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TurbulentKineticEnergy(model, u, v, w; U, V, W, location)
</code></pre><p>Calculate the turbulent kinetic energy of <code>model</code> manually specifying <code>u</code>, <code>v</code>, <code>w</code> and optionally background velocities <code>U</code>, <code>V</code> and <code>W</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L40-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.TurbulentKineticEnergy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TurbulentKineticEnergy(model; kwargs...)
</code></pre><p>Calculate the turbulent kinetic energy of <code>model</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.XPressureRedistribution-Tuple{Any, Any, Any}" href="#Oceanostics.TKEBudgetTerms.XPressureRedistribution-Tuple{Any, Any, Any}"><code>Oceanostics.TKEBudgetTerms.XPressureRedistribution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">XPressureRedistribution(model, u′, p′)
</code></pre><p>Calculate the pressure redistribution term in the <code>x</code> direction. Here <code>u′</code> and <code>p′</code> are the fluctuations around a mean.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L328-L333">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.XShearProductionRate-NTuple{7, Any}" href="#Oceanostics.TKEBudgetTerms.XShearProductionRate-NTuple{7, Any}"><code>Oceanostics.TKEBudgetTerms.XShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">XShearProductionRate(model, u, v, w, U, V, W; location)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>x</code> direction, considering velocities <code>u</code>, <code>v</code>, <code>w</code> and background (or average) velocities <code>U</code>, <code>V</code> and <code>W</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L373-L378">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.XShearProductionRate-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.XShearProductionRate-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.XShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">XShearProductionRate(model; U, V, W, kwargs...)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>x</code> direction. At least one of the mean  velocities <code>U</code>, <code>V</code> and <code>W</code> must be specified otherwise the output will be zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L385-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.YPressureRedistribution-Tuple{Any, Any, Any}" href="#Oceanostics.TKEBudgetTerms.YPressureRedistribution-Tuple{Any, Any, Any}"><code>Oceanostics.TKEBudgetTerms.YPressureRedistribution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">YPressureRedistribution(model, v′, p′)
</code></pre><p>Calculate the pressure redistribution term in the <code>y</code> direction. Here <code>v′</code> and <code>p′</code> are the fluctuations around a mean.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L336-L341">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.YShearProductionRate-NTuple{7, Any}" href="#Oceanostics.TKEBudgetTerms.YShearProductionRate-NTuple{7, Any}"><code>Oceanostics.TKEBudgetTerms.YShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">YShearProductionRate(model, u, v, w, U, V, W; location)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>y</code> direction, considering velocities <code>u</code>, <code>v</code>, <code>w</code> and background (or average) velocities <code>U</code>, <code>V</code> and <code>W</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L415-L420">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.YShearProductionRate-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.YShearProductionRate-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.YShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">YShearProductionRate(model; U, V, W, kwargs...)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>y</code> direction. At least one of the mean  velocities <code>U</code>, <code>V</code> and <code>W</code> must be specified otherwise the output will be zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L427-L432">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.ZPressureRedistribution-Tuple{Any, Any, Any}" href="#Oceanostics.TKEBudgetTerms.ZPressureRedistribution-Tuple{Any, Any, Any}"><code>Oceanostics.TKEBudgetTerms.ZPressureRedistribution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ZPressureRedistribution(model, w′, p′)
</code></pre><p>Calculate the pressure redistribution term in the <code>z</code> direction. Here <code>w′</code> and <code>p′</code> are the fluctuations around a mean.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L344-L349">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.ZShearProductionRate-NTuple{7, Any}" href="#Oceanostics.TKEBudgetTerms.ZShearProductionRate-NTuple{7, Any}"><code>Oceanostics.TKEBudgetTerms.ZShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ZShearProductionRate(model, u, v, w, U, V, W; location)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>z</code> direction, considering velocities <code>u</code>, <code>v</code>, <code>w</code> and background (or average) velocities <code>U</code>, <code>V</code> and <code>W</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L457-L462">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TKEBudgetTerms.ZShearProductionRate-Tuple{Any}" href="#Oceanostics.TKEBudgetTerms.ZShearProductionRate-Tuple{Any}"><code>Oceanostics.TKEBudgetTerms.ZShearProductionRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ZShearProductionRate(model; U, V, W, kwargs...)
</code></pre><p>Calculate the shear production rate in the <code>model</code>&#39;s <code>z</code> direction. At least one of the mean  velocities <code>U</code>, <code>V</code> and <code>W</code> must be specified otherwise the output will be zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TKEBudgetTerms.jl#L469-L474">source</a></section></article><h2 id="Oceanostics.TracerVarianceBudgetTerms"><a class="docs-heading-anchor" href="#Oceanostics.TracerVarianceBudgetTerms">Oceanostics.TracerVarianceBudgetTerms</a><a id="Oceanostics.TracerVarianceBudgetTerms-1"></a><a class="docs-heading-anchor-permalink" href="#Oceanostics.TracerVarianceBudgetTerms" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDiffusiveTerm-Tuple{Any, Any}" href="#Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDiffusiveTerm-Tuple{Any, Any}"><code>Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDiffusiveTerm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TracerVarianceDiffusiveTerm(model, tracer_name; location)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the diffusive term of the tracer variance prognostic equation using Oceananigans&#39; diffusive tracer flux divergence kernel:</p><pre><code class="nohighlight hljs">    DIFF = 2 c ∂ⱼFⱼ</code></pre><p>where <code>c</code> is the tracer, and <code>Fⱼ</code> is the tracer&#39;s diffusive flux in the <code>j</code>-th direction.</p><pre><code class="language-julia hljs">grid = RectilinearGrid(size=(4, 4, 4), extent=(1, 1, 1))
model = NonhydrostaticModel(grid=grid, tracers=:b, closure=SmagorinskyLilly())

DIFF = TracerVarianceDiffusiveTerm(model, :b)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TracerVarianceBudgetTerms.jl#L87-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDissipationRate-Tuple{Any, Any}" href="#Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDissipationRate-Tuple{Any, Any}"><code>Oceanostics.TracerVarianceBudgetTerms.TracerVarianceDissipationRate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TracerVarianceDissipationRate(
    model,
    tracer_name;
    tracer,
    location
)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the isotropic variance dissipation rate for <code>tracer_name</code> in <code>model.tracers</code>. The isotropic variance dissipation rate is defined as </p><pre><code class="nohighlight hljs">    χ = 2 ∂ⱼc ⋅ Fⱼ</code></pre><p>where <code>Fⱼ</code> is the diffusive flux of <code>c</code> in the <code>j</code>-th direction and <code>∂ⱼ</code> is the gradient operator. <code>χ</code> is implemented in its conservative formulation based on the equation above. </p><p>Note that often <code>χ</code> is written as <code>χ = 2κ (∇c ⋅ ∇c)</code>, which is the special case for Fickian diffusion (<code>κ</code> is the tracer diffusivity).</p><p>Here <code>tracer_name</code> is needed even when passing <code>tracer</code> in order to get the appropriate <code>tracer_index</code>. When passing <code>tracer</code>, this function should be used as</p><pre><code class="language-julia hljs">grid = RectilinearGrid(size=(4, 4, 4), extent=(1, 1, 1))
model = NonhydrostaticModel(grid=grid, tracers=:b, closure=SmagorinskyLilly())

b̄ = Field(Average(model.tracers.b, dims=(1,2)))
b′ = model.tracers.b - b̄

χb = TracerVarianceDissipationRate(model, :b, tracer=b′)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TracerVarianceBudgetTerms.jl#L139-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.TracerVarianceBudgetTerms.TracerVarianceTendency-Tuple{NonhydrostaticModel, Any}" href="#Oceanostics.TracerVarianceBudgetTerms.TracerVarianceTendency-Tuple{NonhydrostaticModel, Any}"><code>Oceanostics.TracerVarianceBudgetTerms.TracerVarianceTendency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TracerVarianceTendency(model, tracer_name; location)
</code></pre><p>Return a <code>KernelFunctionOperation</code> that computes the tracer variance tendency:</p><pre><code class="nohighlight hljs">TEND = 2 c ∂ₜc</code></pre><p>where <code>c</code> is the tracer and <code>∂ₜc</code> is the tracer tendency (computed using Oceananigans&#39; tracer tendency kernel).</p><pre><code class="language-julia hljs">grid = RectilinearGrid(size=(4, 4, 4), extent=(1, 1, 1))
model = NonhydrostaticModel(grid=grid, tracers=:b, closure=SmagorinskyLilly())

DIFF = TracerVarianceTendency(model, :b)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/TracerVarianceBudgetTerms.jl#L39-L55">source</a></section></article><h2 id="Oceanostics.FlowDiagnostics"><a class="docs-heading-anchor" href="#Oceanostics.FlowDiagnostics">Oceanostics.FlowDiagnostics</a><a id="Oceanostics.FlowDiagnostics-1"></a><a class="docs-heading-anchor-permalink" href="#Oceanostics.FlowDiagnostics" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.DirectionalErtelPotentialVorticity-Tuple{Any, Any}" href="#Oceanostics.FlowDiagnostics.DirectionalErtelPotentialVorticity-Tuple{Any, Any}"><code>Oceanostics.FlowDiagnostics.DirectionalErtelPotentialVorticity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DirectionalErtelPotentialVorticity(
    model,
    direction;
    location
)
</code></pre><p>Calculate the contribution from a given <code>direction</code> to the Ertel Potential Vorticity basde on a <code>model</code> and a <code>direction</code>. The Ertel Potential Vorticity is defined as</p><pre><code class="nohighlight hljs">EPV = ωₜₒₜ ⋅ ∇b</code></pre><p>where ωₜₒₜ is the total (relative + planetary) vorticity vector, <code>b</code> is the buoyancy and ∇ is the gradient operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L303-L313">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.ErtelPotentialVorticity-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.ErtelPotentialVorticity-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.ErtelPotentialVorticity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ErtelPotentialVorticity(model; location, add_background)
</code></pre><p>Calculate the Ertel Potential Vorticty for <code>model</code>, where the characteristics of the Coriolis rotation are taken from <code>model.coriolis</code>. The Ertel Potential Vorticity is defined as</p><pre><code class="nohighlight hljs">EPV = ωₜₒₜ ⋅ ∇b</code></pre><p>where ωₜₒₜ is the total (relative + planetary) vorticity vector, <code>b</code> is the buoyancy and ∇ is the gradient operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L225-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.QVelocityGradientTensorInvariant-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.QVelocityGradientTensorInvariant-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.QVelocityGradientTensorInvariant</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">QVelocityGradientTensorInvariant(model; location)
</code></pre><p>Calculate the value of the <code>Q</code> velocity gradient tensor invariant. This is usually just called <code>Q</code> and it is generally used for identifying and visualizing vortices in fluid flow.</p><p>The definition and nomenclature comes from the equation for the eigenvalues <code>λ</code> of the velocity gradient tensor <code>∂ⱼuᵢ</code>:</p><pre><code class="nohighlight hljs">    λ³ + P λ² + Q λ + T = 0</code></pre><p>from where <code>Q</code> is defined as</p><pre><code class="nohighlight hljs">    Q = ½ ( ΩᵢⱼΩᵢⱼ - SᵢⱼSᵢⱼ)</code></pre><p>and where <code>Sᵢⱼ= ½(∂ⱼuᵢ + ∂ᵢuⱼ)</code> and <code>Ωᵢⱼ= ½(∂ⱼuᵢ - ∂ᵢuⱼ)</code>. More info about it can be found in doi:10.1063/1.5124245.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L434-L453">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.RichardsonNumber-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.RichardsonNumber-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.RichardsonNumber</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RichardsonNumber(model; location, add_background)
</code></pre><p>Calculate the Richardson Number as</p><pre><code class="nohighlight hljs">    Ri = (∂b/∂z) / (|∂u⃗ₕ/∂z|²)</code></pre><p>where <code>z</code> is the true vertical direction (ie anti-parallel to gravity).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L56-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.RossbyNumber-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.RossbyNumber-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.RossbyNumber</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RossbyNumber(
    model;
    location,
    add_background,
    dWdy_bg,
    dVdz_bg,
    dUdz_bg,
    dWdx_bg,
    dUdy_bg,
    dVdx_bg
)
</code></pre><p>Calculate the Rossby number using the vorticity in the rotation axis direction according to <code>model.coriolis</code>. Rossby number is defined as</p><pre><code class="nohighlight hljs">    Ro = ωᶻ / f</code></pre><p>where ωᶻ is the vorticity in the Coriolis axis of rotation and <code>f</code> is the Coriolis rotation frequency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L114-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.StrainRateTensorModulus-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.StrainRateTensorModulus-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.StrainRateTensorModulus</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">StrainRateTensorModulus(model; location)
</code></pre><p>Calculate the modulus (absolute value) of the strain rate tensor <code>S</code>, which is defined as the symmetric part of the velocity gradient tensor:</p><pre><code class="nohighlight hljs">    Sᵢⱼ = ½(∂ⱼuᵢ + ∂ᵢuⱼ)</code></pre><p>Its modulus is then defined (using Einstein summation notation) as</p><pre><code class="nohighlight hljs">    || Sᵢⱼ || = √( Sᵢⱼ Sᵢⱼ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L371-L385">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.ThermalWindPotentialVorticity-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.ThermalWindPotentialVorticity-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.ThermalWindPotentialVorticity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ThermalWindPotentialVorticity(model; f, location)
</code></pre><p>Calculate the Potential Vorticty assuming thermal wind balance for <code>model</code>, where the characteristics of the Coriolis rotation are taken from <code>model.coriolis</code>. The Potential Vorticity in this case is defined as</p><pre><code class="nohighlight hljs">    TWPV = (f + ωᶻ) ∂b/∂z - f ((∂U/∂z)² + (∂V/∂z)²)</code></pre><p>where <code>f</code> is the Coriolis frequency, <code>ωᶻ</code> is the relative vorticity in the <code>z</code> direction, <code>b</code> is the buoyancy, and <code>∂U/∂z</code> and <code>∂V/∂z</code> comprise the thermal wind shear.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L182-L194">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Oceanostics.FlowDiagnostics.VorticityTensorModulus-Tuple{Any}" href="#Oceanostics.FlowDiagnostics.VorticityTensorModulus-Tuple{Any}"><code>Oceanostics.FlowDiagnostics.VorticityTensorModulus</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">VorticityTensorModulus(model; location)
</code></pre><p>Calculate the modulus (absolute value) of the vorticity tensor <code>Ω</code>, which is defined as the antisymmetric part of the velocity gradient tensor:</p><pre><code class="nohighlight hljs">    Ωᵢⱼ = ½(∂ⱼuᵢ - ∂ᵢuⱼ)</code></pre><p>Its modulus is then defined (using Einstein summation notation) as</p><pre><code class="nohighlight hljs">    || Ωᵢⱼ || = √( Ωᵢⱼ Ωᵢⱼ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tomchor/Oceanostics.jl/blob/ac57c3b54d9b7478a270cfeb6b5b490266d298eb/src/FlowDiagnostics.jl#L406-L420">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/tilted_bottom_boundary_layer/">« Tilted bottom boundary layer</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 25 August 2023 02:18">Friday 25 August 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
